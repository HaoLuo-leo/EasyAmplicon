{"record_format_version": 6, "code": "\n        # Step 1: cut & sed\n        cut -f 1,4 {input.sintax}           | sed 's/\td/\tk/;s/:/__/g;s/,/;/g;s/\"//g'           > {output.mid}\n\n        # Step 2: awk\n        awk 'BEGIN{{OFS=FS=\"\\t\"}}{{\n              delete a;\n              a[\"k\"]=\"Unassigned\";a[\"p\"]=\"Unassigned\";a[\"c\"]=\"Unassigned\";\n              a[\"o\"]=\"Unassigned\";a[\"f\"]=\"Unassigned\";a[\"g\"]=\"Unassigned\";a[\"s\"]=\"Unassigned\";\n              split($2,x,\";\");\n              for(i in x){{split(x[i],b,\"__\");a[b[1]]=b[2];}}\n              print $1,a[\"k\"],a[\"p\"],a[\"c\"],a[\"o\"],a[\"f\"],a[\"g\"],a[\"s\"];\n          }}' {output.mid} > {output.tmp}\n\n        # Step 3: final cleanup & header\n        sed 's/;/\\t/g;s/.__//g;' {output.tmp}           | cut -f 1-8           | sed '1 s/^/OTUID\\tKingdom\\tPhylum\\tClass\\tOrder\\tFamily\\tGenus\\tSpecies\\n/'           > {output.taxonomy}\n        ", "rule": "format_taxonomy", "input": ["results/taxonomy/otus_raw.sintax"], "log": [], "params": [], "shellcmd": "\n        # Step 1: cut & sed\n        cut -f 1,4 results/taxonomy/otus_raw.sintax           | sed 's/\td/\tk/;s/:/__/g;s/,/;/g;s/\"//g'           > taxonomy2.txt\n\n        # Step 2: awk\n        awk 'BEGIN{OFS=FS=\"\\t\"}{\n              delete a;\n              a[\"k\"]=\"Unassigned\";a[\"p\"]=\"Unassigned\";a[\"c\"]=\"Unassigned\";\n              a[\"o\"]=\"Unassigned\";a[\"f\"]=\"Unassigned\";a[\"g\"]=\"Unassigned\";a[\"s\"]=\"Unassigned\";\n              split($2,x,\";\");\n              for(i in x){split(x[i],b,\"__\");a[b[1]]=b[2];}\n              print $1,a[\"k\"],a[\"p\"],a[\"c\"],a[\"o\"],a[\"f\"],a[\"g\"],a[\"s\"];\n          }' taxonomy2.txt > otus.tax\n\n        # Step 3: final cleanup & header\n        sed 's/;/\\t/g;s/.__//g;' otus.tax           | cut -f 1-8           | sed '1 s/^/OTUID\\tKingdom\\tPhylum\\tClass\\tOrder\\tFamily\\tGenus\\tSpecies\\n/'           > results/taxonomy/taxonomy.txt\n        ", "incomplete": false, "starttime": 1757558752.0, "endtime": 1757558754.0, "job_hash": 8760842455555, "conda_env": null, "software_stack_hash": "d41d8cd98f00b204e9800998ecf8427e", "container_img_url": null, "input_checksums": {"results/taxonomy/otus_raw.sintax": "0c27c82c6b8557f42e4187ba3349629b75dfa2b800dfaf86cbb511914e92796e"}}